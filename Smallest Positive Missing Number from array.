class Solution { 
    public int missingNumber(int[] arr) {
        int n = arr.length;  // Store the length of the array
        
        // Step 1: Place each number at its correct index
        // Loop through the array to rearrange numbers in-place
        for (int i = 0; i < n; i++) {
            // Continue swapping while the current number is:
            // 1. Positive (>0)
            // 2. Less than or equal to n (within the range of array indices)
            while (arr[i] > 0 && arr[i] <= n) {
                int correctIndex = arr[i] - 1;  // Calculate the correct index for arr[i]
                
                // If the number is already in its correct place or duplicate, stop swapping
                if (arr[correctIndex] == arr[i])
                    break;
                
                // Swap arr[i] with the number at its correct index
                int temp = arr[i];
                arr[i] = arr[correctIndex];
                arr[correctIndex] = temp;
            }
        }

        // Step 2: Find the smallest missing positive
        // After placement, the first index i where arr[i] != i+1 is the missing number
        for (int i = 0; i < n; i++) {
            if (arr[i] != i + 1)
                return i + 1;  // Return the first missing positive
        }

        // Step 3: If all numbers from 1 to n are present
        // Then the missing number is n+1
        return n + 1;
    }
}
